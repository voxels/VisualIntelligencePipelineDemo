[0/1] Planning build
Building for debugging...
[0/3] Write swift-version--58304C5D6DBC2206.txt
[2/19] Compiling DiverKitTests YahooLinkEnrichmentServiceTests.swift
error: emit-module command failed with exit code 1 (use -v to see invocation)
[3/19] Compiling DiverKitTests PipelineLogFixtureTests.swift
[4/19] Compiling DiverKitTests ProcessedItemTests.swift
[5/19] Compiling DiverKitTests MetadataPipelineServiceTests.swift
[6/19] Compiling DiverKitTests LinkEnrichmentServiceTests.swift
[7/19] Compiling DiverKitTests LocalPipelineServiceTests.swift
[8/19] Compiling DiverKitTests ReferenceEntityTests.swift
[9/19] Compiling DiverKitTests ProcessedItemMigrationTests.swift
[10/19] Emitting module DiverKitTests
/Users/voxels/Documents/dev/VisualIntelligence/VisualIntelligencePipelineDemo/DiverKit/Tests/DiverKitTests/HierarchicalEnrichmentTests.swift:81:13: error: type 'HierarchicalMockEnrichmentService' does not conform to protocol 'ContextualEnrichmentService'
 79 | }
 80 | 
 81 | final class HierarchicalMockEnrichmentService: ContextualEnrichmentService, @unchecked Sendable {
    |             |- error: type 'HierarchicalMockEnrichmentService' does not conform to protocol 'ContextualEnrichmentService'
    |             `- note: add stubs for conformance
 82 |     let data: EnrichmentData?
 83 |     var enrichLocationCalled = false

/Users/voxels/Documents/dev/VisualIntelligence/VisualIntelligencePipelineDemo/DiverKit/Sources/DiverKit/Services/LinkEnrichmentService.swift:81:10: note: protocol requires function 'searchNearby(location:limit:)' with type '(CLLocationCoordinate2D, Int) async throws -> [EnrichmentData]'
79 |     ///   - limit: Maximum number of results
80 |     /// - Returns: List of candidate places
81 |     func searchNearby(location: CLLocationCoordinate2D, limit: Int) async throws -> [EnrichmentData]
   |          `- note: protocol requires function 'searchNearby(location:limit:)' with type '(CLLocationCoordinate2D, Int) async throws -> [EnrichmentData]'
82 |     /// Search for places by query
83 |     /// - Parameters:
   :
86 |     ///   - limit: Maximum results
87 |     /// - Returns: List of candidate places
88 |     func search(query: String, location: CLLocationCoordinate2D, limit: Int) async throws -> [EnrichmentData]
   |          `- note: protocol requires function 'search(query:location:limit:)' with type '(String, CLLocationCoordinate2D, Int) async throws -> [EnrichmentData]'
89 | }
90 | 
[11/19] Compiling DiverKitTests VisualIntelligenceViewModelTests.swift
/Users/voxels/Documents/dev/VisualIntelligence/VisualIntelligencePipelineDemo/DiverKit/Tests/DiverKitTests/VisualIntelligenceViewModelTests.swift:76:28: error: cannot find 'UIImage' in scope
74 |         // Set some state
75 |         // Note: capturedImage and results are MainActor isolated or Published, so setting them is fine here
76 |         vm.capturedImage = UIImage()
   |                            `- error: cannot find 'UIImage' in scope
77 |         vm.results = [.qr(URL(string: "https://example.com")!)]
78 |         vm.sessionImages = [UIImage()]

/Users/voxels/Documents/dev/VisualIntelligence/VisualIntelligencePipelineDemo/DiverKit/Tests/DiverKitTests/VisualIntelligenceViewModelTests.swift:78:29: error: cannot find 'UIImage' in scope
76 |         vm.capturedImage = UIImage()
77 |         vm.results = [.qr(URL(string: "https://example.com")!)]
78 |         vm.sessionImages = [UIImage()]
   |                             `- error: cannot find 'UIImage' in scope
79 |         vm.isSaving = true
80 |         vm.showingSaveError = true
[12/19] Compiling DiverKitTests EnrichmentServiceTests.swift
/Users/voxels/Documents/dev/VisualIntelligence/VisualIntelligencePipelineDemo/DiverKit/Tests/DiverKitTests/EnrichmentServiceTests.swift:18:23: error: cannot find 'YahooEnrichmentService' in scope
16 |     
17 |     func testYahooEnrichmentMock() async throws {
18 |         let service = YahooEnrichmentService(apiKey: "TEST_KEY")
   |                       `- error: cannot find 'YahooEnrichmentService' in scope
19 |         let query = "Blue Bottle Coffee"
20 |         

/Users/voxels/Documents/dev/VisualIntelligence/VisualIntelligencePipelineDemo/DiverKit/Tests/DiverKitTests/EnrichmentServiceTests.swift:21:75: error: 'nil' requires a contextual type
19 |         let query = "Blue Bottle Coffee"
20 |         
21 |         let enrichment = try await service.enrich(query: query, location: nil)
   |                                                                           `- error: 'nil' requires a contextual type
22 |         
23 |         XCTAssertNotNil(enrichment)

/Users/voxels/Documents/dev/VisualIntelligence/VisualIntelligencePipelineDemo/DiverKit/Tests/DiverKitTests/EnrichmentServiceTests.swift:31:28: error: cannot find 'YahooEnrichmentService' in scope
29 |         // Simulation of the hierarchical flow
30 |         let fsService = FoursquareEnrichmentService(apiKey: nil) // Mocked behavior
31 |         let yahooService = YahooEnrichmentService(apiKey: "TEST_KEY")
   |                            `- error: cannot find 'YahooEnrichmentService' in scope
32 |         
33 |         let location = CLLocationCoordinate2D(latitude: 37.7749, longitude: -122.4194)
[13/19] Compiling DiverKitTests PipelineLogFixture.swift
/Users/voxels/Documents/dev/VisualIntelligence/VisualIntelligencePipelineDemo/DiverKit/Tests/DiverKitTests/EnrichmentServiceTests.swift:18:23: error: cannot find 'YahooEnrichmentService' in scope
16 |     
17 |     func testYahooEnrichmentMock() async throws {
18 |         let service = YahooEnrichmentService(apiKey: "TEST_KEY")
   |                       `- error: cannot find 'YahooEnrichmentService' in scope
19 |         let query = "Blue Bottle Coffee"
20 |         

/Users/voxels/Documents/dev/VisualIntelligence/VisualIntelligencePipelineDemo/DiverKit/Tests/DiverKitTests/EnrichmentServiceTests.swift:21:75: error: 'nil' requires a contextual type
19 |         let query = "Blue Bottle Coffee"
20 |         
21 |         let enrichment = try await service.enrich(query: query, location: nil)
   |                                                                           `- error: 'nil' requires a contextual type
22 |         
23 |         XCTAssertNotNil(enrichment)

/Users/voxels/Documents/dev/VisualIntelligence/VisualIntelligencePipelineDemo/DiverKit/Tests/DiverKitTests/EnrichmentServiceTests.swift:31:28: error: cannot find 'YahooEnrichmentService' in scope
29 |         // Simulation of the hierarchical flow
30 |         let fsService = FoursquareEnrichmentService(apiKey: nil) // Mocked behavior
31 |         let yahooService = YahooEnrichmentService(apiKey: "TEST_KEY")
   |                            `- error: cannot find 'YahooEnrichmentService' in scope
32 |         
33 |         let location = CLLocationCoordinate2D(latitude: 37.7749, longitude: -122.4194)
[14/19] Compiling DiverKitTests ContextualServicesTests.swift
/Users/voxels/Documents/dev/VisualIntelligence/VisualIntelligencePipelineDemo/DiverKit/Tests/DiverKitTests/ContextualServicesTests.swift:41:23: error: cannot find 'YahooEnrichmentService' in scope
39 |     
40 |     func testYahooEnrichmentServiceGeneratesQuestions() async throws {
41 |         let service = YahooEnrichmentService()
   |                       `- error: cannot find 'YahooEnrichmentService' in scope
42 |         let coords = CLLocationCoordinate2D(latitude: 37.7749, longitude: -122.4194)
43 |         
[15/19] Compiling DiverKitTests DiverLinkGeneratorTests.swift
/Users/voxels/Documents/dev/VisualIntelligence/VisualIntelligencePipelineDemo/DiverKit/Tests/DiverKitTests/ContextualServicesTests.swift:41:23: error: cannot find 'YahooEnrichmentService' in scope
39 |     
40 |     func testYahooEnrichmentServiceGeneratesQuestions() async throws {
41 |         let service = YahooEnrichmentService()
   |                       `- error: cannot find 'YahooEnrichmentService' in scope
42 |         let coords = CLLocationCoordinate2D(latitude: 37.7749, longitude: -122.4194)
43 |         
[16/19] Compiling DiverKitTests HierarchicalEnrichmentTests.swift
/Users/voxels/Documents/dev/VisualIntelligence/VisualIntelligencePipelineDemo/DiverKit/Tests/DiverKitTests/HierarchicalEnrichmentTests.swift:81:13: error: type 'HierarchicalMockEnrichmentService' does not conform to protocol 'ContextualEnrichmentService'
 79 | }
 80 | 
 81 | final class HierarchicalMockEnrichmentService: ContextualEnrichmentService, @unchecked Sendable {
    |             |- error: type 'HierarchicalMockEnrichmentService' does not conform to protocol 'ContextualEnrichmentService'
    |             `- note: add stubs for conformance
 82 |     let data: EnrichmentData?
 83 |     var enrichLocationCalled = false

/Users/voxels/Documents/dev/VisualIntelligence/VisualIntelligencePipelineDemo/DiverKit/Sources/DiverKit/Services/LinkEnrichmentService.swift:81:10: note: protocol requires function 'searchNearby(location:limit:)' with type '(CLLocationCoordinate2D, Int) async throws -> [EnrichmentData]'
79 |     ///   - limit: Maximum number of results
80 |     /// - Returns: List of candidate places
81 |     func searchNearby(location: CLLocationCoordinate2D, limit: Int) async throws -> [EnrichmentData]
   |          `- note: protocol requires function 'searchNearby(location:limit:)' with type '(CLLocationCoordinate2D, Int) async throws -> [EnrichmentData]'
82 |     /// Search for places by query
83 |     /// - Parameters:
   :
86 |     ///   - limit: Maximum results
87 |     /// - Returns: List of candidate places
88 |     func search(query: String, location: CLLocationCoordinate2D, limit: Int) async throws -> [EnrichmentData]
   |          `- note: protocol requires function 'search(query:location:limit:)' with type '(String, CLLocationCoordinate2D, Int) async throws -> [EnrichmentData]'
89 | }
90 | 

/Users/voxels/Documents/dev/VisualIntelligence/VisualIntelligencePipelineDemo/DiverKit/Tests/DiverKitTests/HierarchicalEnrichmentTests.swift:51:27: error: extra argument 'yahooService' in call
 49 |             locationService: locationProvider,
 50 |             foursquareService: foursquareService,
 51 |             yahooService: yahooService
    |                           `- error: extra argument 'yahooService' in call
 52 |         )
 53 |         

/Users/voxels/Documents/dev/VisualIntelligence/VisualIntelligencePipelineDemo/DiverKit/Tests/DiverKitTests/IntelligenceProcessorTests.swift:75:13: warning: initialization of immutable value 'movie' was never used; consider replacing with assignment to '_' or removing it [#no-usage]
73 |     
74 |     func testEntertainmentSecondaryActionURLs() {
75 |         let movie = IntelligenceResult.entertainment(title: "The Matrix", type: .movie)
   |             `- warning: initialization of immutable value 'movie' was never used; consider replacing with assignment to '_' or removing it [#no-usage]
76 |         
77 |         let concert = IntelligenceResult.entertainment(title: "Coachella", type: .concert)
[17/19] Compiling DiverKitTests IntelligenceProcessorTests.swift
/Users/voxels/Documents/dev/VisualIntelligence/VisualIntelligencePipelineDemo/DiverKit/Tests/DiverKitTests/HierarchicalEnrichmentTests.swift:81:13: error: type 'HierarchicalMockEnrichmentService' does not conform to protocol 'ContextualEnrichmentService'
 79 | }
 80 | 
 81 | final class HierarchicalMockEnrichmentService: ContextualEnrichmentService, @unchecked Sendable {
    |             |- error: type 'HierarchicalMockEnrichmentService' does not conform to protocol 'ContextualEnrichmentService'
    |             `- note: add stubs for conformance
 82 |     let data: EnrichmentData?
 83 |     var enrichLocationCalled = false

/Users/voxels/Documents/dev/VisualIntelligence/VisualIntelligencePipelineDemo/DiverKit/Sources/DiverKit/Services/LinkEnrichmentService.swift:81:10: note: protocol requires function 'searchNearby(location:limit:)' with type '(CLLocationCoordinate2D, Int) async throws -> [EnrichmentData]'
79 |     ///   - limit: Maximum number of results
80 |     /// - Returns: List of candidate places
81 |     func searchNearby(location: CLLocationCoordinate2D, limit: Int) async throws -> [EnrichmentData]
   |          `- note: protocol requires function 'searchNearby(location:limit:)' with type '(CLLocationCoordinate2D, Int) async throws -> [EnrichmentData]'
82 |     /// Search for places by query
83 |     /// - Parameters:
   :
86 |     ///   - limit: Maximum results
87 |     /// - Returns: List of candidate places
88 |     func search(query: String, location: CLLocationCoordinate2D, limit: Int) async throws -> [EnrichmentData]
   |          `- note: protocol requires function 'search(query:location:limit:)' with type '(String, CLLocationCoordinate2D, Int) async throws -> [EnrichmentData]'
89 | }
90 | 

/Users/voxels/Documents/dev/VisualIntelligence/VisualIntelligencePipelineDemo/DiverKit/Tests/DiverKitTests/HierarchicalEnrichmentTests.swift:51:27: error: extra argument 'yahooService' in call
 49 |             locationService: locationProvider,
 50 |             foursquareService: foursquareService,
 51 |             yahooService: yahooService
    |                           `- error: extra argument 'yahooService' in call
 52 |         )
 53 |         

/Users/voxels/Documents/dev/VisualIntelligence/VisualIntelligencePipelineDemo/DiverKit/Tests/DiverKitTests/IntelligenceProcessorTests.swift:75:13: warning: initialization of immutable value 'movie' was never used; consider replacing with assignment to '_' or removing it [#no-usage]
73 |     
74 |     func testEntertainmentSecondaryActionURLs() {
75 |         let movie = IntelligenceResult.entertainment(title: "The Matrix", type: .movie)
   |             `- warning: initialization of immutable value 'movie' was never used; consider replacing with assignment to '_' or removing it [#no-usage]
76 |         
77 |         let concert = IntelligenceResult.entertainment(title: "Coachella", type: .concert)
[18/20] Compiling DiverKitTests resource_bundle_accessor.swift
error: fatalError
